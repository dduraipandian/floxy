<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Spinner â€” Minimal Docs</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
      crossorigin="anonymous"
    />

    <link rel="stylesheet" type="text/css" href="../components/css/__app_root.css" />
    <link rel="stylesheet" type="text/css" href="../components/css/__base.css" />
    <link rel="stylesheet" type="text/css" href="../components/css/doc.css" />
  </head>

  <body class="p-3" style="overflow: auto">
    <div class="container page">
      <div class="header mb-3">
        <h1 class="mb-0">Spinner</h1>
        <span class="subtitle">Minimal, configurable loading overlay</span>
      </div>
      <p class="text-muted mb-3">
        Overlay any container with a Bootstrap-spinner and optional progress text. Simple API, tiny
        footprint.
      </p>

      <div class="card">
        <div class="section-title">Install & Import</div>
        <p class="mb-2">Use as an ES module.</p>
        <pre><code>&lt;script type="module"&gt;
import Spinner from './components/spinner.js';
&lt;/script&gt;
      </code></pre>
      </div>

      <div class="card">
        <div class="section-title">Quick Start</div>
        <pre><code>const spinner = new Spinner({
  name: 'my-spinner',
  options: {
    spinnerColor: 'text-primary',
    spinnerType: 'border'
  }
});
spinner.renderInto('container-id');
spinner.show('Loading...', true); // Shows spinner with dot animation
      </code></pre>
      </div>

      <div class="card">
        <div class="section-title">Options</div>
        <ul class="list-compact">
          <li>
            <strong>spinnerColor</strong>: Bootstrap text color class (default:
            <code>text-secondary</code>).
          </li>
          <li><strong>spinnerType</strong>: <code>border</code> (default) or <code>grow</code>.</li>
          <li>
            <strong>loadingText</strong>: Default text to display (default: <code>'Loading'</code>).
          </li>
          <li>
            <strong>enabledCancel</strong>: Show a cancel button (default: <code>false</code>).
          </li>
        </ul>
      </div>

      <div class="card">
        <div class="section-title">API</div>
        <ul class="list-compact">
          <li><code>renderInto(id)</code>: Renders the component into the target container.</li>
          <li>
            <code>show(text?, dotAnimation?)</code>: Shows the spinner. Optional text override and
            dot animation boolean.
          </li>
          <li><code>hide()</code>: Hides the spinner and re-enables the parent container.</li>
        </ul>
      </div>

      <div class="card">
        <div class="section-title">Events</div>
        <p class="mb-2">
          Listen to events on the container based on the pattern
          `spinner:{containerId}:{name}:cancel`.
        </p>
        <pre><code>// Example: Handle cancellation
spinner.container.addEventListener(`spinner:${spinner.containerId}:${spinner.id}:cancel`, (e) => {
    console.log('User clicked cancel', e.detail);
});
      </code></pre>
      </div>

      <h2 class="mt-4">Live Demos</h2>

      <div class="card">
        <div class="d-flex align-items-center justify-content-between">
          <div class="section-title mb-0">Border Spinner (Primary)</div>
          <div class="btn-group d-flex">
            <button class="btn btn-sm btn-primary" id="demo1-show">Show</button>
            <button class="btn btn-sm btn-outline-secondary" id="demo1-hide">Hide</button>
          </div>
        </div>
        <div id="demo1" class="demo-box mt-2">Demo container (border, text-primary)</div>
      </div>

      <div class="card">
        <div class="d-flex align-items-center justify-content-between">
          <div class="section-title mb-0">Grow Spinner (Secondary) + Dots</div>
          <div class="btn-group d-flex">
            <button class="btn btn-sm btn-primary" id="demo2-show">Show</button>
            <button class="btn btn-sm btn-outline-secondary" id="demo2-hide">Hide</button>
          </div>
        </div>
        <div id="demo2" class="demo-box mt-2">Demo container (grow, text-secondary)</div>
      </div>

      <div class="card">
        <div class="d-flex align-items-center justify-content-between">
          <div class="section-title mb-0">Cancellable Spinner</div>
          <div class="btn-group d-flex">
            <button class="btn btn-sm btn-primary" id="demo3-show">Show</button>
            <button class="btn btn-sm btn-outline-secondary" id="demo3-hide">Hide</button>
          </div>
        </div>
        <div id="demo3" class="demo-box mt-2">
          Demo container (enabledCancel)
          <button id="demo3-cancel" class="btn btn-sm btn-danger mt-2">Cancel Loading</button>
        </div>
      </div>

      <div class="card">
        <div class="section-title">Tips</div>
        <ul class="list-compact">
          <li>
            <strong>Parent state</strong>: Parent gets <code>disabled</code> while spinner is
            visible.
          </li>
          <li>
            <strong>Progress text</strong>: Pass text to <code>show()</code>; enable dot animation
            with <code>true</code>.
          </li>
          <li><strong>Cleanup</strong>: <code>hide()</code> clears timers and restores state.</li>
        </ul>
      </div>

      <div class="card">
        <div class="section-title">Minimal Example</div>
        <pre><code>&lt;div id="spinner-container" style="position:relative; height: 240px;"&gt;&lt;/div&gt;
&lt;script type="module"&gt;
  import Spinner from './components/spinner.js';
  const s = new Spinner({ options: { spinnerColor: 'text-primary', spinnerType: 'border' } });
  s.renderInto('spinner-container');
  s.show('Loading...', true);
  setTimeout(() =&gt; s.hide(), 2000);
&lt;/script&gt;
      </code></pre>
      </div>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
      crossorigin="anonymous"
    ></script>

    <script type="module">
      import Spinner from "../components/spinner.js";

      // Demo 1: Border spinner primary
      const s1 = new Spinner({
        name: "demo1",
        options: { spinnerColor: "text-primary", spinnerType: "border", loadingText: "Loading" },
      });
      s1.renderInto("demo1");
      document
        .getElementById("demo1-show")
        .addEventListener("click", () => s1.show("Loading (border)..."));
      document.getElementById("demo1-hide").addEventListener("click", () => s1.hide());

      // Demo 2: Grow spinner secondary + dot animation
      const s2 = new Spinner({
        name: "demo2",
        options: { spinnerColor: "text-secondary", spinnerType: "grow", loadingText: "Fetching" },
      });
      s2.renderInto("demo2");
      document
        .getElementById("demo2-show")
        .addEventListener("click", () => s2.show("Fetching data", true));
      document.getElementById("demo2-hide").addEventListener("click", () => s2.hide());

      // Demo 3: Cancellable spinner
      const s3 = new Spinner({
        name: "demo3",
        options: {
          enabledCancel: true,
          spinnerColor: "text-danger",
          spinnerType: "border",
          loadingText: "Processing",
        },
      });
      s3.renderInto("demo3");
      // Listen for the internal cancel event as well
      s3.container.addEventListener(`spinner:${s3.containerId}:${s3.id}:cancel`, (ev) => {
        console.debug("Spinner cancel event received", ev.detail);
      });
      document
        .getElementById("demo3-show")
        .addEventListener("click", () => s3.show("Processing request..."));
      document.getElementById("demo3-hide").addEventListener("click", () => s3.hide());
    </script>
  </body>
</html>
