<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Online Status â€” Minimal Docs</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">

  <link rel="stylesheet" type="text/css" href="./components/css/__app_root.css">
  <link rel="stylesheet" type="text/css" href="./components/css/__base.css">
  <link rel="stylesheet" type="text/css" href="./components/css/theme/dark.css">
  <link rel="stylesheet" type="text/css" href="./components/css/doc.css">
</head>

<body class="p-3" style="overflow: auto">
  <div class="container page">
    <div class="header mb-3">
      <h1 class="mb-0">Online</h1>
      <span class="subtitle">Network status indicator with optional toast notifications</span>
    </div>

    <div class="card">
      <div class="section-title">Usage</div>
      <pre><code>&lt;script type="module"&gt;
import Online from './components/online.js';
const o = new Online({ name: 'network', options: { notify: true } });
o.renderInto('online-container');
&lt;/script&gt;
      </code></pre>
    </div>

    <div class="card mt-3">
      <div class="section-title">Demo</div>
      <p class="text-muted">The badge shows current online state; a toast appears when status changes.</p>
      <div id="online-container" class="mt-2"></div>
      <div class="mt-3">
        <button id="simulate-offline" class="btn btn-sm btn-outline-danger">Simulate Offline</button>
        <button id="simulate-online" class="btn btn-sm btn-outline-success ms-2">Simulate Online</button>
      </div>
    </div>

  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
    crossorigin="anonymous"></script>

  <script type="module">
    import Online from './components/online.js';

    const online = new Online({ name: 'demo-online', options: { notify: true } });
    online.renderInto('online-container');

    // Simulation buttons (cannot truly toggle navigator.onLine, so simulate update)
    document.getElementById('simulate-offline').addEventListener('click', () => {
      // Simulate offline update by temporarily calling updateStatus with mocked state
      Object.defineProperty(navigator, 'onLine', { value: false, configurable: true });
      online.updateStatus();
    });
    document.getElementById('simulate-online').addEventListener('click', () => {
      Object.defineProperty(navigator, 'onLine', { value: true, configurable: true });
      online.updateStatus();
    });

  </script>
</body>

</html>
